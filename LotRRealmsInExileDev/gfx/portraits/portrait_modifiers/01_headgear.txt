# Tags:
# rank_headgear: any headgear that signifies a certain title. crowns, pope hat etc.



headgear = {
	# interface_position = 1
	usage = game
	selection_behavior = max
	
	no_hat = {
		usage = game 
		dna_modifiers = {
			accessory = {
				mode = add
		
				gene = headgear
				template = no_headgear
				value = 0
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
				AND = {
					should_be_naked_trigger = yes
				}
			}
		}
	}

## So that the Prophet Muhammad does not have a portrait ## 

	no_portrait = {
		dna_modifiers = {
			accessory = {
				mode = add				
				gene = headgear
				template = no_headgear
				value = 0.5
			}
		}
		weight = {
			base = 0
		}
	}


## No headgear for children under 16 ## 

	children_no_headgear = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = no_headgear
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				age < 16
			}
		}
	}

## Western ##

	western_commoners = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						has_government = republic_government
						primary_title.tier > 1
					}
					has_government = theocracy_government
				}
				portrait_western_clothing_trigger = yes
			}
		}
	}

	western_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						OR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_western_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_western_clothing_trigger = yes
						}
					}
				}
			}
		}
	}

	western_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							highest_held_title_tier = tier_kingdom
							highest_held_title_tier = tier_empire
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						OR = {
							portrait_western_clothing_trigger = yes
							portrait_northern_clothing_trigger = yes
						}
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								highest_held_title_tier = tier_kingdom
								highest_held_title_tier = tier_empire
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							OR = {
								portrait_western_clothing_trigger = yes
								portrait_northern_clothing_trigger = yes
							}
						}
					}
				}
			}
		}
	}

	western_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				always = no
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						OR = {
							portrait_western_clothing_trigger = yes
							portrait_northern_clothing_trigger = yes
						}
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							OR = {
								portrait_western_clothing_trigger = yes
								portrait_northern_clothing_trigger = yes
							}
						}
					}
				}
			}
		}
	}

	western_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_empire
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_western_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_empire
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_western_clothing_trigger = yes
						}
					}
				}

			}
		}
	}


	western_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_war
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_helmet_trigger = yes
				portrait_western_clothing_trigger = yes
			}
		}
	}

## DDE HRE ##

## Western ##

	dde_hre_commoners = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_hre_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						has_government = republic_government
						primary_title.tier > 1
					}
					has_government = theocracy_government
				}
				portrait_dde_hre_clothing_trigger = yes
			}
		}
	}

	dde_hre_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_hre_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_dde_hre_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_dde_hre_clothing_trigger = yes
						}
					}
				}
			}
		}
	}

	dde_hre_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_hre_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_dde_hre_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_dde_hre_clothing_trigger = yes
						}
					}
				}
			}
		}
	}

	dde_hre_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_hre_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_dde_hre_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_dde_hre_clothing_trigger = yes
						}
					}
				}
			}
		}
	}


	dde_hre_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_hre_war
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101 # larger than the western war headgear
				portrait_wear_helmet_trigger = yes
				portrait_dde_hre_clothing_trigger = yes
			}
		}
	}

## Byzantine ##


	byzantine_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = byzantine_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						has_government = republic_government
						primary_title.tier > 1
					}
					has_government = theocracy_government
				}
				portrait_byzantine_clothing_trigger = yes
			}
		}
	}

	byzantine_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = byzantine_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_byzantine_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_byzantine_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	byzantine_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = byzantine_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_byzantine_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_byzantine_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	byzantine_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = byzantine_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_byzantine_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							portrait_byzantine_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	byzantine_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = byzantine_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_empire
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_byzantine_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_empire
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_byzantine_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	byzantine_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = byzantine_war
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_helmet_trigger = yes
				portrait_byzantine_clothing_trigger = yes
			}
		}
	}

## INDIAN ##

	indian_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = indian_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						has_government = republic_government
						primary_title.tier > 1
					}
					has_government = theocracy_government
				}
				portrait_indian_clothing_trigger = yes
			}
		}
	}

	indian_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = indian_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_indian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_indian_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	indian_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = indian_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_indian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_indian_clothing_trigger = yes
						}
					}
				}				

			}
		}
	}

	indian_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = indian_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_indian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_indian_clothing_trigger = yes
						}
					}
				}				

			}
		}
	}

	indian_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = indian_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_empire
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_indian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_empire
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_indian_clothing_trigger = yes
						}
					}
				}				

			}
		}
	}

	indian_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = indian_war
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_helmet_trigger = yes
				portrait_indian_clothing_trigger = yes
			}
		}
	}


## MENA ##

	mena_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_mena_clothing_trigger = yes
				always = no
			}
		}
	}

	mena_mayors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 60
				highest_held_title_tier < tier_county
				has_government = republic_government
				portrait_mena_clothing_trigger = yes
				always = no
			}
		}
	}

	mena_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_mena_clothing_trigger = yes
				always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_mena_clothing_trigger = yes
				always = no
						}
					}
				}

			}
		}
	}

	mena_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_mena_clothing_trigger = yes
				always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_mena_clothing_trigger = yes
				always = no
						}
					}
				}

			}
		}
	}

	mena_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_mena_clothing_trigger = yes
				always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_mena_clothing_trigger = yes
				always = no
						}
					}
				}

			}
		}
	}

	mena_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier = tier_empire
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_mena_clothing_trigger = yes
				always = no
			}
		}
	}

	mena_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_war
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_helmet_trigger = yes
				portrait_mena_clothing_trigger = yes
			}
		}
	}
	
## DDE ABBASID ##

	dde_abbasid_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_abbasid_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				 highest_held_title_tier < tier_county
				 NOR = {
				 	has_government = republic_government
				 	has_government = theocracy_government
				}
				portrait_dde_abbasid_clothing_trigger = yes
			}
		}
	}

	dde_abbasid_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_abbasid_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_dde_abbasid_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_dde_abbasid_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	dde_abbasid_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_abbasid_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_dde_abbasid_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_dde_abbasid_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	dde_abbasid_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_abbasid_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100 # pick over mena
				highest_held_title_tier = tier_empire
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_dde_abbasid_clothing_trigger = yes
			}
		}
	}

	dde_abbasid_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dde_abbasid_war
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 101 # slightly higher than mena
				portrait_wear_helmet_trigger = yes
				portrait_mena_clothing_trigger = yes
			}
		}
	}


## Steppe ##

	steppe_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = steppe_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						has_government = republic_government
						primary_title.tier > 1
					}
					has_government = theocracy_government
				}
				portrait_steppe_clothing_trigger = yes
			}
		}
	}

	steppe_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = steppe_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_steppe_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_steppe_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	steppe_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = steppe_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_steppe_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_steppe_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	steppe_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = steppe_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier > tier_duchy
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_steppe_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier > tier_duchy
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_steppe_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	steppe_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = steppe_war
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_helmet_trigger = yes
				portrait_steppe_clothing_trigger = yes
			}
		}
	}


## Northern Pagans ##

	northern_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = northern_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 30
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						has_government = republic_government
						primary_title.tier > 1
					}
					has_government = theocracy_government
				}
				portrait_northern_clothing_trigger = yes
			}
		}
	}

	northern_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = northern_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier = tier_county
				NOR = {
					# has_dynasty = no
					AND = {
						has_government = republic_government
						primary_title.tier > 1
					}
					has_government = theocracy_government
				}
				portrait_northern_clothing_trigger = yes
			}
		}
	}

	northern_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_northern_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_western_clothing_trigger = yes
						}
					}
				}
			}
		}
	}

	northern_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier >= tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_northern_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_northern_clothing_trigger = yes
						}
					}
				}
			}
		}
	}


	northern_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = northern_war
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_helmet_trigger = yes
				portrait_northern_clothing_trigger = yes
			}
		}
	}


## Sub-Saharan Africans ##

	african_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sub_saharan_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						has_government = republic_government
						primary_title.tier > 1
					}
					has_government = theocracy_government
				}
				portrait_african_clothing_trigger = yes
			}
		}
	}

	sub_saharan_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sub_saharan_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_african_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_african_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	sub_saharan_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sub_saharan_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_african_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_african_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	sub_saharan_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sub_saharan_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier = tier_empire
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_african_clothing_trigger = yes
			}
		}
	}


	sub_saharan_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = mena_war
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_helmet_trigger = yes
				portrait_african_clothing_trigger = yes
			}
		}
	}
	####
	##
	############## LOTR ADDONS HERE
	##
	### ELVES - ELVISH
	#

	elvish_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = elvish_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_elvish_clothing_trigger = yes
				#always = no
			}
		}
	}

	elvish_mayors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = elvish_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 60
				highest_held_title_tier < tier_county
				has_government = republic_government
				portrait_elvish_clothing_trigger = yes
				#always = no
			}
		}
	}

	elvish_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = elvish_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_elvish_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_elvish_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	elvish_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = elvish_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_elvish_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_elvish_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	elvish_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = elvish_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_elvish_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_elvish_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	elvish_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = elvish_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier = tier_empire
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_elvish_clothing_trigger = yes
				#always = no
			}
		}
	}

	elvish_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = elvish_war
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_outward
				template = ear_outward_neg
				value = 1.0
			}
			morph = {
                mode = modify_multiply
                gene =  race_gene_mer_ears_01
                value = 0.0
            }
			morph = {
                mode = modify_multiply
                gene =  race_gene_mer_ears_02
                value = 0.0
            }
			morph = {
                mode = modify_multiply
				gene_bs_ear_size
				value = 0.0
            }
			#morph = {
            #    mode = replace
            #    gene =     race_gene_mer_ears_01
            #    template = default_1
            #    value = 0.0
            #}
			#morph = {
			#	mode = modify_multiply				
			#	gene = gene_bs_ear_size
			#	value = 0.0
			#}
			#
		}	
		weight = {
			base = 0
			modifier = {
				add = 109
				AND={
				portrait_wear_helmet_trigger = yes
				portrait_elvish_clothing_trigger = yes
				}
			}
		}
	}
	
	#### HARADRIM
	# MENA ##

	haradrim_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_haradrim_clothing_trigger = yes
				#always = no
			}
		}
	}

	haradrim_mayors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 60
				highest_held_title_tier < tier_county
				has_government = republic_government
				portrait_haradrim_clothing_trigger = yes
				#always = no
			}
		}
	}

	haradrim_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_haradrim_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_haradrim_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	haradrim_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_haradrim_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_haradrim_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	haradrim_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_haradrim_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_haradrim_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	haradrim_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier = tier_empire
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_haradrim_clothing_trigger = yes
				#always = no
			}
		}
	}

	haradrim_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = haradrim_war
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_helmet_trigger = yes
				portrait_haradrim_clothing_trigger = yes
			}
		}
	}
	
	nazgul_hoods_wearing = {
	    dna_modifiers = {
			 accessory = {
	            mode = add
	            gene = headgear
	            template = nazgul_hoods
	            range = { 0 1 }
	        }
			morph = {
				mode = replace				
				gene = complexion
				template = complexion_no_face
				value = 1.0
			}
			#
			accessory = {
				mode = modify				
				gene = eye_accessory
				template = no_eyes
				value = 0.5
			}
	    }
		#should make this particular to the withc king
		#
	    weight = {
	        base = 0
	        modifier = {
				has_trait = nazgul
				add = 131
	        }
	    }
	}
	nazgul_witchkingcrown_wearing = {
	    dna_modifiers = {
			 accessory = {
	            mode = add
	            gene = headgear
	            template = nazgul_witchkingcrown
	            range = { 0 1 }
	        }
			morph = {
				mode = replace				
				gene = complexion
				template = complexion_no_face
				value = 1.0
			}
			#
			accessory = {
				mode = modify				
				gene = eye_accessory
				template = no_eyes
				value = 0.5
			}
	    }
		#should make this particular to the withc king
		#
	    weight = {
	        base = 0
	        modifier = {
				has_trait = nazgulwitchking
				add = 158
	        }
	    }
	}
	nazgul_witchking_war = {
	    dna_modifiers = {
			 accessory = {
	            mode = add
	            gene = headgear_2
	            template = nazgul_withkinghelmet
	            range = { 0 1 }
	        }
			morph = {
				mode = replace				
				gene = complexion
				template = complexion_no_face
				value = 1.0
			}
			#
			accessory = {
				mode = modify				
				gene = eye_accessory
				template = no_eyes
				value = 0.5
			}
	    }
		#should make this particular to the withc king
		#
	    weight = {
	        base = 0
			modifier = {
				add = 356
				AND={
				portrait_wear_helmet_trigger = yes
				has_trait = nazgulwitchking
				}
			}
	    }
	}
	#
	sauronbattlehelm = {
	    dna_modifiers = {
			 accessory = {
	            mode = add
	            gene = headgear
	            template = sauron_warhelm
	            range = { 0 1 }
	        }
	    }
		#should make this particular to the withc king
		#
	    weight = {
	        base = 0
	        modifier = {
				has_trait = sauroninbattleform
				add = 128
	        }
	    }
	}
	#### dwarven
	# used mena ##

	dwarven_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarven_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_dwarven_clothing_trigger = yes
				#always = no
			}
		}
	}

	dwarven_mayors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarven_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 60
				highest_held_title_tier < tier_county
				has_government = republic_government
				portrait_dwarven_clothing_trigger = yes
				#always = no
			}
		}
	}

	dwarven_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarven_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_dwarven_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_dwarven_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	dwarven_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarven_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_dwarven_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_dwarven_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	dwarven_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarven_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_dwarven_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_dwarven_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	dwarven_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarven_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier = tier_empire
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_dwarven_clothing_trigger = yes
				#always = no
			}
		}
	}

	dwarven_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = dwarven_war
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_helmet_trigger = yes
				portrait_dwarven_clothing_trigger = yes
			}
		}
	}
	nazgul_warhoods = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = nazgul_warhood
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
	        base = 0
	        modifier = {
				add = 155
				AND={
				has_trait = nazgul
				portrait_wear_helmet_trigger = yes
				}
				
	        }
	    }
	}
	####
	# Arnoreans
	#### dwarven
	# used mena ##

	arnorian_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_arnorian_clothing_trigger = yes
				#always = no
			}
		}
	}

	arnorian_mayors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 60
				highest_held_title_tier < tier_county
				has_government = republic_government
				portrait_arnorian_clothing_trigger = yes
				#always = no
			}
		}
	}

	arnorian_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_arnorian_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_arnorian_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	arnorian_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_arnorian_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_arnorian_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	arnorian_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_arnorian_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_arnorian_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	arnorian_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier = tier_empire
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_arnorian_clothing_trigger = yes
				#always = no
			}
		}
	}

	arnorian_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_war
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_outward
				template = ear_outward_neg
				value = 1.0
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_size
				template = ear_size_neg
				value = 1.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_inner_shape
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_bend
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_outward
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_size
				value = 0.0
			}
		}
		#		
		weight = {
			base = 0
			modifier = {
				add = 100
				portrait_wear_helmet_trigger = yes
				portrait_arnorian_clothing_trigger = yes
			}
		}
		
	}
	arnorian_kingswar = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_kingswar
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = {
				mode = add
				gene = headgear_2
				template = arnorian_neckchainmail
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_outward
				template = ear_outward_neg
				value = 1.0
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_size
				template = ear_size_neg
				value = 1.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_angle
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_inner_shape
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_bend
				value = 0.0
			}
			
			
		}	
		weight = {
			base = 0
			modifier = {
				add = 988

				AND = {
				highest_held_title_tier = tier_kingdom
				portrait_wear_armor_trigger = yes
				portrait_arnorian_clothing_trigger = yes
				}
			}
		}
	}
	arnorian_highkingswar = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorian_highkingswar
				range = { 0 1 } # For the randomness to work correctly
			}
			#accessory = {
			#	mode = add
			#	gene = headgear_2
			#	template = arnorian_neckchainmail
			#	range = { 0 1 } # For the randomness to work correctly
			#} # Removed as it conflicts with the cloak!
			morph = {
				mode = add
				
				gene = gene_bs_ear_outward
				template = ear_outward_neg
				value = 1.0
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_size
				template = ear_size_neg
				value = 1.0
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 989

				AND = {
				highest_held_title_tier = tier_empire
				portrait_wear_armor_trigger = yes
				portrait_arnorian_clothing_trigger = yes
				}
			}
		}
	}
	# Gondorians
	#### 
	# used mena ##

	gondorian_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_gondorian_clothing_trigger = yes
				#always = no
			}
		}
	}

	gondorian_mayors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 60
				highest_held_title_tier < tier_county
				has_government = republic_government
				portrait_gondorian_clothing_trigger = yes
				#always = no
			}
		}
	}

	gondorian_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_gondorian_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_gondorian_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	gondorian_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_gondorian_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_gondorian_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	gondorian_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_gondorian_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_gondorian_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	gondorian_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier = tier_empire
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_gondorian_clothing_trigger = yes
				#always = no
			}
		}
	}

	gondorian_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_war
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_outward
				template = ear_outward_neg
				value = 1.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_angle
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_inner_shape
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_bend
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_outward
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_size
				value = 0.0
			}
		}
		#		
		weight = {
			base = 0
			modifier = {
				add = 112
				portrait_wear_helmet_trigger = yes
				portrait_gondorian_clothing_trigger = yes
			}
		}
		
	}
	gondorian_kingswar = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_kingswar
				range = { 0 1 } # For the randomness to work correctly
			}
			accessory = {
				mode = add
				gene = headgear_2
				template = arnorian_neckchainmail
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_outward
				template = ear_outward_neg
				value = 1.0
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_size
				template = ear_size_neg
				value = 1.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_angle
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_inner_shape
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_bend
				value = 0.0
			}
			
			
		}	
		weight = {
			base = 0
			modifier = {
				add = 988

				AND = {
				highest_held_title_tier = tier_kingdom
				portrait_wear_armor_trigger = yes
				portrait_gondorian_clothing_trigger = yes
				}
			}
		}
	}
	gondorian_highkingswar = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorian_highkingswar
				range = { 0 1 } # For the randomness to work correctly
			}
			#accessory = {
			#	mode = add
			#	gene = headgear_2
			#	template = arnorian_neckchainmail
			#	range = { 0 1 } # For the randomness to work correctly
			#} # Removed as it conflicts with the cloak!
			morph = {
				mode = add
				
				gene = gene_bs_ear_outward
				template = ear_outward_neg
				value = 1.0
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_size
				template = ear_size_neg
				value = 1.0
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 989

				AND = {
				highest_held_title_tier = tier_empire
				portrait_wear_armor_trigger = yes
				portrait_gondorian_clothing_trigger = yes
				}
			}
		}
	}
	##
	morgoth_hoodwearing = {
	    dna_modifiers = {
			 accessory = {
	            mode = add
	            gene = headgear
	            template = nazgul_hoods
	            range = { 0 1 }
	        }
			morph = {
				mode = replace				
				gene = complexion
				template = complexion_no_face
				value = 1.0
			}
			#
			accessory = {
				mode = modify				
				gene = eye_accessory
				template = no_eyes
				value = 0.5
			}
	    }
		#should make this particular to the withc king
		#
	    weight = {
	        base = 0
	        modifier = {
				has_trait = morgothform
				add = 128
	        }
	    }
	}
	##
	############ VALAR
	### ELVES - valar
	#

	valar_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = valar_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_valar_clothing_trigger = yes
				#always = no
			}
		}
	}

	valar_mayors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = valar_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 60
				highest_held_title_tier < tier_county
				has_government = republic_government
				portrait_valar_clothing_trigger = yes
				#always = no
			}
		}
	}

	valar_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = valar_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_valar_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_valar_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	valar_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = valar_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_valar_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_valar_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	valar_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = valar_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_valar_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_valar_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	valar_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = valar_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier = tier_empire
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_valar_clothing_trigger = yes
				#always = no
			}
		}
	}

	valar_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = valar_war
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
                mode = modify_multiply
                gene =  race_gene_mer_ears_01
                value = 0.0
            }
			morph = {
                mode = modify_multiply
                gene =  race_gene_mer_ears_02
                value = 0.0
            }
			morph = {
				mode = add
				
				gene = gene_bs_ear_outward
				template = ear_outward_neg
				value = 1.0
			}
			#morph = {
            #    mode = replace
            #    gene =     race_gene_mer_ears_01
            #    template = default_1
            #    value = 0.0
            #}
			#morph = {
			#	mode = modify_multiply				
			#	gene = gene_bs_ear_size
			#	value = 0.0
			#}
			#
		}	
		weight = {
			base = 0
			modifier = {
				add = 109
				AND={
				portrait_wear_helmet_trigger = yes
				portrait_valar_clothing_trigger = yes
				}
			}
		}
	}
	###
	#
	#### blacknumenorean
	# used MENA ##

	blacknumenorean_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = blacknumenorean_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_blacknumenorean_clothing_trigger = yes
				#always = no
			}
		}
	}

	blacknumenorean_mayors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = blacknumenorean_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 60
				highest_held_title_tier < tier_county
				has_government = republic_government
				portrait_blacknumenorean_clothing_trigger = yes
				#always = no
			}
		}
	}

	blacknumenorean_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = blacknumenorean_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_blacknumenorean_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_blacknumenorean_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	blacknumenorean_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = blacknumenorean_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_blacknumenorean_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_blacknumenorean_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	blacknumenorean_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = blacknumenorean_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_blacknumenorean_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_blacknumenorean_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	blacknumenorean_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = blacknumenorean_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier = tier_empire
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_blacknumenorean_clothing_trigger = yes
				#always = no
			}
		}
	}

	blacknumenorean_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = blacknumenorean_war
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_outward
				template = ear_outward_neg
				value = 1.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_angle
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_inner_shape
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_bend
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_outward
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_size
				value = 0.0
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 111
				portrait_wear_helmet_trigger = yes
				portrait_blacknumenorean_clothing_trigger = yes
			}
		}
	}
	#### ORCS
	#### 
	# used MENA ##

	orc_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = orc_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_orc_clothing_trigger = yes
				#always = no
			}
		}
	}

	orc_mayors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = orc_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 60
				highest_held_title_tier < tier_county
				has_government = republic_government
				portrait_orc_clothing_trigger = yes
				#always = no
			}
		}
	}

	orc_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = orc_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_orc_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_orc_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	orc_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = orc_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_orc_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_orc_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	orc_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = orc_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_orc_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_orc_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	orc_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = orc_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier = tier_empire
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_orc_clothing_trigger = yes
				#always = no
			}
		}
	}

	orc_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = orc_war
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_angle
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_inner_shape
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_outward
				value = 0.0
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 111
				portrait_wear_helmet_trigger = yes
				portrait_orc_clothing_trigger = yes
			}
		}
	}
	
	gondor_holyorder_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = gondorholyorder_warhelm
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_outward
				template = ear_outward_neg
				value = 1.0
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 112
				portrait_wear_helmet_trigger = yes
				OR = {
				    AND = {
				        religion = religion:free_peoples_religion
						culture = culture:culture_gondorian
				        has_government = holy_order_government
				    }
				    AND = {
				        religion = religion:free_peoples_religion
						culture = culture:culture_gondorian
				        is_landed = no
				        portrait_wear_armor_trigger = yes
				        exists = liege
				        liege = {
				            has_government = holy_order_government
				        }
				    }
				    AND = {
				        religion = religion:free_peoples_religion
						culture = culture:culture_gondorian
				        portrait_wear_armor_trigger = yes
				        OR = {
				            any_character_war = {
				                OR = {
				                    using_cb = undirected_great_holy_war
				                    using_cb = directed_great_holy_war
				                }
				                is_attacker = prev
				            }
				            any_liege_or_above = {
				                faith = prev.faith
				                any_character_war = {
				                    OR = {
				                        using_cb = undirected_great_holy_war
				                        using_cb = directed_great_holy_war
				                    }
				                    is_attacker = prev
				                }
				            }
				        }
				    }
				}
			}
		}
	}
	
	#### Easterlings
	#### blacknumenorean
	# used MENA ##

	easterling_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = easterling_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				NOR = {
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_easterling_clothing_trigger = yes
				#always = no
			}
		}
	}

	easterling_mayors = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = easterling_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 60
				highest_held_title_tier < tier_county
				has_government = republic_government
				portrait_easterling_clothing_trigger = yes
				#always = no
			}
		}
	}

	easterling_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = easterling_low_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								has_government = republic_government
								primary_title.tier > 1
							}
							has_government = theocracy_government
						}
						portrait_easterling_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									has_government = republic_government
									primary_title.tier > 1
								}
								has_government = theocracy_government
							}
							portrait_easterling_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	easterling_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = easterling_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								has_government = republic_government
								primary_title.tier > 2
							}
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_easterling_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									has_government = republic_government
									primary_title.tier > 2
								}
								has_government = theocracy_government
							}
							portrait_easterling_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	easterling_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = easterling_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_kingdom
							has_government = theocracy_government
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						NOT = { has_government = republic_government }
						portrait_easterling_clothing_trigger = yes
				#always = no
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_kingdom
								has_government = theocracy_government
							}
							NOT = { has_government = mercenary_government } # Blocked for mercenaries
							NOT = { has_government = republic_government }
							portrait_easterling_clothing_trigger = yes
				#always = no
						}
					}
				}

			}
		}
	}

	easterling_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = easterling_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
				highest_held_title_tier = tier_empire
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				portrait_easterling_clothing_trigger = yes
				#always = no
			}
		}
	}

	easterling_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = easterling_war
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_outward
				template = ear_outward_neg
				value = 1.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_angle
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_inner_shape
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_bend
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_outward
				value = 0.0
			}
			morph = {
				mode = modify_multiply				
				gene = gene_bs_ear_size
				value = 0.0
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 111
				portrait_wear_helmet_trigger = yes
				portrait_easterling_clothing_trigger = yes
			}
		}
	}
	arnor_holyorder_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = arnorholyorder_warhelm
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = add
				
				gene = gene_bs_ear_outward
				template = ear_outward_neg
				value = 1.0
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 161
				portrait_wear_helmet_trigger = yes
				OR = {
				    AND = {
				        religion = religion:free_peoples_religion
						culture = culture:culture_arnorian
				        has_government = holy_order_government
				    }
				    AND = {
				        religion = religion:free_peoples_religion
						culture = culture:culture_arnorian
				        is_landed = no
				        portrait_wear_armor_trigger = yes
				        exists = liege
				        liege = {
				            has_government = holy_order_government
				        }
				    }
				    AND = {
				        religion = religion:free_peoples_religion
						culture = culture:culture_arnorian
				        portrait_wear_armor_trigger = yes
				        OR = {
				            any_character_war = {
				                OR = {
				                    using_cb = undirected_great_holy_war
				                    using_cb = directed_great_holy_war
				                }
				                is_attacker = prev
				            }
				            any_liege_or_above = {
				                faith = prev.faith
				                any_character_war = {
				                    OR = {
				                        using_cb = undirected_great_holy_war
				                        using_cb = directed_great_holy_war
				                    }
				                    is_attacker = prev
				                }
				            }
				        }
				    }
				}
			}
		}
	}
}	